# Contributor: crab <crabtw@gmail.com>

_gemname=innate
pkgname=ruby-$_gemname
pkgver=2009.07
pkgrel=1
pkgdesc="Innate is the core web-framework part of Ramaze and can be used standalonei"
arch=('i686' 'x86_64')
url="http://ramaze.net"
license=('Ruby')
depends=('ruby' 'rack')
source=(http://gems.rubyforge.org/gems/$_gemname-$pkgver.gem
        helper-redirect-prefix.diff)
noextract=($_gemname-$pkgver.gem)
md5sums=('9b642243c08317ed3e814962832ae4fa'
         'a08c17303807c840b70444791c160ac4')

build() {
  cd $srcdir
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" $_gemname-$pkgver.gem

  cd $pkgdir$_gemdir/gems/$_gemname-$pkgver || return 1
  patch -p0 < $startdir/helper-redirect-prefix.diff || return 1
}
