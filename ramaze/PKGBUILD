# Contributor: crab <crabtw@gmail.com>

_gemname=ramaze
pkgname=$_gemname
pkgver=2009.07
pkgrel=1
pkgdesc="Ramaze is a simple, light and modular open-source web-framework written in Ruby"
arch=('i686' 'x86_64')
url="http://ramaze.net/"
license=('Ruby')
depends=('ruby' 'ruby-innate')
source=(http://gems.rubyforge.org/gems/$_gemname-$pkgver.gem
        helper-xhtml-prefix.diff)
noextract=($_gemname-$pkgver.gem)
md5sums=('2630f834b0dd4b83d9c765a58bb75f7c'
         '9dbe65569cf0ced5ac7d6628e214adaf')

build() {
  cd $srcdir
  local _gemdir="$(ruby -e'puts Gem.default_dir')"
  gem install --ignore-dependencies -i "$pkgdir$_gemdir" $_gemname-$pkgver.gem

  cd $pkgdir$_gemdir/gems/$_gemname-$pkgver || return 1
  patch -p0 < $startdir/helper-xhtml-prefix.diff || return 1
}
